define ("tool_messenger/popup",["jquery","core/modal_factory","core/url","core/ajax","core/modal_events"],function(a,b,c,d,e){var f=function(a,c){if(a.length<=c){return}var g=a[c];b.create({type:b.types.ALERT,title:g.header,body:g.message}).then(function(b){var h=b.getRoot();h.on(e.cancel,function(){d.call([{methodname:"tool_messenger_set_lastpopupid_for_user",args:{lastpopupid:g.id}}]);f(a,c+1)});b.show()})};return{init:function init(){d.call([{methodname:"tool_messenger_get_popups_for_user",args:{}}])[0].done(function(a){var b=JSON.parse(a);f(b,0)}).fail(function(a){window.console.log("Getting popups for this user failed: ");window.console.log(a)})}}});
//# sourceMappingURL=popup.min.js.map
