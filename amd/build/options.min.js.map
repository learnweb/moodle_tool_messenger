{"version":3,"sources":["../src/options.js"],"names":["define","$","append","form_id","name","value","attr","appendTo","atto_html_mode","observer","MutationObserver","mutations","forEach","mutation","addedNodes","i","node","length","classList","contains","click","disconnect","observe","document","body","childList","subtree","attributes","characterData","init","ready","each","x","remove","input","button","split","on","id"],"mappings":"+qCAAAA,OAAM,0BAAC,CAAC,QAAD,CAAD,CAAa,SAAUC,CAAV,CAAa,IAExBC,CAAAA,CAAM,CAAG,SAASC,CAAT,CAAkBC,CAAlB,CAAwBC,CAAxB,CAA+B,CACxC,MAAO,WAAW,CACdJ,CAAC,CAAC,WAAD,CAAD,CAAeK,IAAf,CAAoB,MAApB,CAA4B,QAA5B,EACKA,IADL,CACU,MADV,CACkBF,CADlB,EAEKE,IAFL,CAEU,OAFV,CAEmBD,CAFnB,EAGKE,QAHL,CAGc,IAAMJ,CAHpB,CAIH,CACJ,CAT2B,CAWxBK,CAAc,CAAG,UAAY,CAC7B,GAAIC,CAAAA,CAAQ,CAAG,GAAIC,CAAAA,gBAAJ,CAAqB,SAACC,CAAD,CAAe,CAC/CA,CAAS,CAACC,OAAV,CAAkB,SAACC,CAAD,CAAc,CAC5B,GAAI,CAACA,CAAQ,CAACC,UAAd,CAA0B,CACtB,MACH,CAED,IAAK,GAAIC,CAAAA,CAAC,CAAG,CAAR,CACGC,CADR,CAAgBD,CAAC,CAAGF,CAAQ,CAACC,UAAT,CAAoBG,MAAxC,CAAgDF,CAAC,EAAjD,CAAqD,CAC7CC,CAD6C,CACtCH,CAAQ,CAACC,UAAT,CAAoBC,CAApB,CADsC,CAEjD,GAAIC,CAAI,EAAIA,CAAI,CAACE,SAAb,EAA0BF,CAAI,CAACE,SAAL,CAAeC,QAAzC,EAAqDH,CAAI,CAACE,SAAL,CAAeC,QAAf,CAAwB,kBAAxB,CAAzD,CAAsG,CAClGH,CAAI,CAACI,KAAL,GACAX,CAAQ,CAACY,UAAT,EACH,CACJ,CACJ,CAZD,CAaH,CAdc,CAAf,CAgBAZ,CAAQ,CAACa,OAAT,CAAiBC,QAAQ,CAACC,IAA1B,CAAgC,CAC5BC,SAAS,GADmB,CAE5BC,OAAO,GAFqB,CAG5BC,UAAU,GAHkB,CAI5BC,aAAa,GAJe,CAAhC,CAOH,CAnC2B,CAuD5B,MAAO,CACHC,IAAI,CAnBG,QAAPA,CAAAA,IAAO,EAAW,CAClB5B,CAAC,CAACsB,QAAD,CAAD,CAAYO,KAAZ,CAAkB,UAAW,CACzB7B,CAAC,CAAC,gCAAD,CAAD,CAAoC8B,IAApC,CAAyC,SAAUhB,CAAV,CAAaiB,CAAb,CAAgB,CACrDA,CAAC,CAACC,MAAF,EACH,CAFD,EAGAhC,CAAC,CAAC,mCAAD,CAAD,CAAuC8B,IAAvC,CAA4C,SAAUhB,CAAV,CAAaiB,CAAb,CAAgB,CACxDA,CAAC,CAACC,MAAF,EACH,CAFD,EAGAhC,CAAC,CAAC,YAAD,CAAD,CAAgB8B,IAAhB,CAAqB,SAAUhB,CAAV,CAAamB,CAAb,CAAoB,IACjCC,CAAAA,CAAM,CAAGlC,CAAC,CAACiC,CAAD,CADuB,GAEjBA,CAAK,GAAL,CAAYE,KAAZ,CAAkB,GAAlB,CAFiB,uBAEhChC,CAFgC,MAE1BC,CAF0B,MAGrC8B,CAAM,CAACE,EAAP,CAAU,OAAV,CAAmBnC,CAAM,CAACD,CAAC,CAAC,YAAD,CAAD,CAAgB,CAAhB,EAAmBqC,EAApB,CAAwBlC,CAAxB,CAA8BC,CAA9B,CAAzB,EACA,QACH,CALD,EAMAG,CAAc,EACjB,CAdD,CAeH,CAEM,CAGV,CA1DK,CAAN","sourcesContent":["define(['jquery'], function ($) {\n\n    var append = function(form_id, name, value) {\n        return function() {\n            $(\"<input />\").attr(\"type\", \"hidden\")\n                .attr(\"name\", name)\n                .attr(\"value\", value)\n                .appendTo(\"#\" + form_id);\n        };\n    };\n\n    var atto_html_mode = function () {\n        let observer = new MutationObserver((mutations) => {\n            mutations.forEach((mutation) => {\n                if (!mutation.addedNodes) {\n                    return;\n                }\n\n                for (let i = 0; i < mutation.addedNodes.length; i++) {\n                    let node = mutation.addedNodes[i];\n                    if (node && node.classList && node.classList.contains && node.classList.contains('atto_html_button')) {\n                        node.click();\n                        observer.disconnect();\n                    }\n                }\n            });\n        });\n\n        observer.observe(document.body, {\n            childList: true,\n            subtree: true,\n            attributes: false,\n            characterData: false\n        });\n\n    };\n\n    var init = function() {\n        $(document).ready(function() {\n            $('input[name=abort][type=hidden]').each(function (i, x) {\n                x.remove();\n            });\n            $('input[name=followup][type=hidden]').each(function (i, x) {\n                x.remove();\n            });\n            $('td > input').each(function (i, input) {\n                var button = $(input);\n                var [name, value] = input[\"id\"].split('_');\n                button.on('click', append($('form.mform')[0].id, name, value));\n                return true;\n            });\n            atto_html_mode();\n        });\n    };\n\n    return {\n        init: init\n    };\n});"],"file":"options.min.js"}